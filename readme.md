Добавление новой переменной в скрипт (например учитывание нового кластера, что бы в тестах открывалась нужная админка в нужном окружении)
1. В ENV файл добавить новую глобальную переменную CLUSTER и ее значение по умолчанию - в нашем случае MBSS 
2. В файл world.js добавить инициацию нового значения, которое будет использовать браузер в виде this.cluster = (значение из env || 'MBSS').toUpperCase()
3. В файл given внести изменение в шаги, которые требуют открытия разных адресов админки - 'Я нахожусь на странце {string}' - в конструкцию переменной для формирования итоговой адресной строки добавить переменную cluster - const siteName = `${location} ${this.cluster} ${this.env}` - теперь при передачи в переменную string в шаге слова Админка playwright будет формировать итоговое название переменной в виде: "Админка {название кластера} {название окружения}". Т.е. подставляется тот кластер и окружение, переданное в скрипте запуска 
4. В файл when внести изменения для шага открытия админки в новом окне - принцпип изменения такой же, как в шаге 3 - добавтиь использования переменной нового кластера 
5. Последним шагом надо добавить в скрипт запуска использование переменной кластера при запуске. Переменная кластера используется только в скриптах запуска web и mob и не используется в скриптах для запуска нескольких файлов, так как переход по проекту осуществляется строго адресно, а вот привязка кластера админки зависит от проекта, на котором идут тесты. Т.к. проект не будет менять кластер, то кластер фиксируется на базовом скрипте запуска
--------------------------------------------------------------------------

Добавление нового проекта (добавление переменных и локаторов для корректной работы)

Перед тем, как добавлять все по списку ниже в файлы проекта 
- Создать оператора со следующими настройками 
    - почта m.filimonov+{название проекта}@jetmail.cc (или любое другое)
    - имя - {название проекта маленькими буквами}_operator
    - пароль - единый для всех
    - добавить только тестовую группу проекта 
- Авторизовать оператором в админке и зайти в настройки: 
    - поставить "Принимать чаты после авторизации" 
    - снять все настройки по уведомлениям (что бы ничего не приходило)
- Открыть настройку пре-формы для тестовой группы 
    - добавить первый вопрос 
        - обязательный 
        - Текст вопроса - "Обязательный вопрос"
        - ответ 1 - "Ответ 1" 
        - ответ 2 - "Ответ 2" 
    - добавить второй вопрос 
        - не обязательный 
        - Текст вопроса - "Не обязательный вопрос"
        - ответ 1 - "Ответ 3" 
        - ответ 2 - "Ответ 4"
    - сохранить настройки, зафиксировать id вопросов, отключить пре-форму и сохранить повторно 


1. Добавить в env файл фдрес проекта на dev окружении
2. Добавить в env файл фдрес проекта на stage окружении
3. Добавить в env файл фдрес проекта на master окружении
4. Добавить в env файл значение почты проектного оператора для тестов (пароль по умолчанию)
5. Добавить в файл urls.js значение переменной для нового проекта на dev
6. Добавить в файл urls.js значение переменной для нового проекта на stage
7. Добавить в файл urls.js значение переменной для нового проекта на master
8. Добавить в файл values.js значение переменной для нового оператора
9. Добавить в файл mbssLocators.js значение переменных для преформы на stage
10. Добавить в файл mbssLocators.js значение переменных для преформы на master
11. Добавить в файл mbssLocators.js значение локатора для тестовой группы в админке
12. Добавить в файл mbssLocators.js значение локатора для системного сообщение о том, что оператор общается для нового проекта
13. Добавить в файл mbssLocators.js значение локатора для системного сообщение о том, что оператор закрыл комнату для нового проекта
14. Добавить в файл generateReport.js значение для генерации файла отчета для WEB 
15. Добавить в файл generateReport.js значение для генерации файла отчета для MOB 
16. Добавить в файл generateReport.js значение для генерации файла отчета для DEV файла 


--------------------------------------------------------------------------
Примечания 

Как запускать тесты с помощью терминала 

Для запуска тестов используется команда `npm run` - это ключевая команда для запуска скриптов из файла package.json 
Далее надо следовать определенному набору правил, с помощью которых можно гибко запускать систему 


После команды `npm run` указывается название скрипта запуска из package.json - в нашем случае это `test`
Далее после названия скрипта необходимо прописать название проекта боольшими буквами, затем указать: 
- DEVICE=WEB - дает системе указание запускать именно десктоп версию тестов и соответствующий файл feature 
- ENV=DEV || STAGE || MASTER - дает системе указанание запускать на выбранном окружении
- CLUSTER=MBSS || TORUS - дает системе укахание использовать указанный кластер 

Финальный вид команды в терминале будет выглядеть вот так - `npm run test LEGZO DEVICE=WEB ENV=DEV CLUSTER=MBSS`

Для запуска тестирования в десктопном браузере или мобильном браузере

Для тестов на десктопе важна только переменная `DEVICE` - она отвечает за использование мобильного или десктопного браузера 
Поэтому при тестировании десктопа обязательно следить за тем, что указана верная переменная
Выбор проекта или проектов, окружения и кластера остается за тестировщиком 

Предусмотрен запуск всех перечисленных проектов 
Для этого вместо указания проекта необходимо вместо названия вписать `ALL` 
Пример готового скрипта `npm run test ALL DEVICE=WEB ENV=DEV CLUSTER=MBSS`

Предусмотрен запуск `DEV` одной командой на всех доступных проектах 
Пример готовой команды `npm run test DEV ALL DEVICE=WEB ENV=DEV CLUSTER=MBSS`
Так же `DEV` можно запустить на все устройсвах, прописав `DEVICE=ALL`

Предусмотрен запуск тестов на всех доступных устройствах 
Для этого в переменной `DEVICE` указывается значение `ALL`

Предусмотрен множественный запуск тестов на одном проекте 
Скрипт запуска - `npm run test LEGZO,LEGZO,LEGZO DEVICE=WEB ENV=DEV CLUSTER=MBSS`
Суть - продублировать название проекта то кол-во раз, которое необходимо его запустить

Следовтально если есть нужда протестировать все проекты на всех устройствах финальный вид скрипта будет: 
`npm run test ALL DEVICE=ALL ENV=DEV CLUSTER=MBSS`

`ВАЖНО` 
по умолчанию переменные выставлены в следующие значения 
- DEVICE=WEB 
- ENV=STAGE
- CLUSTER=MBSS


Резюме 
Для гибкого управления запусками использовать переменные `DEVICE`, `ENV` и `CLUSTER` необходимо, так как через них
идет прямое указание на то, где именно и на чем требуется тестировать выбранный проект. Можно не указывать эти переменные и 
ограничиться запуском сокращенной командой `npm run test LEGZO` только с названием проекта, но тогда будут использованы 
переменные по умолчанию, что не позволит учесть другой кластер или необходимое окружение. 
--------------------------------------------------------------------------
Полезные примечания для работы с кодом тестов 


locator.eveluate - позволяет выполнить JavaScript прямо внутри браузера — как если бы ты сам открыл DevTools и написал код в консоли, с помощью этой команды можно доставать нудные данные с запросов и сохранять нужные данные с браузера в переменных тестов. 